(function(){"use strict";var e={5233:function(e,t,s){var r=s(3751),o=s(5220),a=s(6278),i=(s(4603),s(7566),s(8721),s(4335));const n={apiUrl:"https://back-cloud.onrender.com"},l=i.A.create({baseURL:`${n.apiUrl}/`,withCredentials:!0}),d={me:async()=>{try{const e=await l.get("auth/me");return e.data}catch(e){return{message:"error"}}},register:async e=>{try{const t=await l.post("auth/register",e);return t.data}catch(t){return{message:"error"}}},login:async e=>{try{const t=await l.post("auth/login",e);return t.data}catch(t){return{message:"error"}}},logout:async()=>{try{const e=await l.delete("auth/logout");return e.data}catch(e){return{message:"error"}}}},c={getFiles:async e=>{try{const t=await l.get("files/",{params:{folder:e}});return t.data}catch(t){return{message:"error"}}},createFolder:async(e,t)=>{try{const s=await l.post("files/folder",{foldername:t,folder:e});return s.data}catch(s){return{message:"error"}}},deleteFolder:async e=>{try{const t=await l.delete("files/folder",{data:{folders:e}});return t.data}catch(t){return{message:"error"}}},deleteFiles:async e=>{try{const t=await l.delete("files/files",{data:{files:e}});return t.data}catch(t){return{message:"error"}}},uploadFiles:async(e,t)=>{try{const s=new FormData;t&&s.set("folder",t),e.forEach((e=>s.append("files",e)));const r=await l.post("files/upload",s);return r.data}catch(s){return{message:"error"}}},download:async e=>{try{const r=await l.post("files/download",e,{responseType:"arraybuffer"});var t=new Blob([r.data],{type:"application/zip"}),s=URL.createObjectURL(t);return window.open(s),r.data}catch(r){return{message:"error"}}}},u={state:()=>({isAuth:!1,user:null,loading:!1}),mutations:{setLoading(e,t){e.loading!==t.loading&&(e.loading=t.loading)},fetchAuth(e,t){e.isAuth=t.isAuth,e.user=t.user}},actions:{async register({state:e,commit:t},s){const r=await d.register(s);return r},async login({state:e,commit:t},s){const r=await d.login(s);if("success"===r.message){const e={isAuth:!0,user:r.payload.data.user};t("fetchAuth",e)}return r},async me({state:e,commit:t}){t("setLoading",{loading:!0});const s=await d.me();if("success"===s.message){const e={isAuth:!0,user:s.payload.data};t("fetchAuth",e)}return t("setLoading",{loading:!1}),s},async logout({commit:e}){e("setLoading",{loading:!0});const t=await d.logout();if("success"===t.message){const t={isAuth:!1,user:null};e("fetchAuth",t)}return e("setLoading",{loading:!1}),t}},namespaced:!0};s(4114);const h={state:()=>({files:[],folders:[],path:[],choosedFilesNFolders:{files:[],folders:[]},loading:!1}),getters:{getPath(e){return 0===e.path.length?"/":`/${e.path.map((e=>e.foldername)).join("/")}`}},mutations:{setLoading(e,{loading:t}){e.loading!==t&&(e.loading=t)},addPath(e,t){e.path.push(t)},deletePath(e){e.path.pop()},setFiles(e,t){e.files=t},setFolders(e,t){e.folders=t},addFolder(e,t){e.folders.push(t)},addFiles(e,t){e.files.push(...t)},addChoosedFiles(e,t){const s=t.file,r=t.isRightClick,o=e.choosedFilesNFolders.files.filter((e=>e!==s));e.choosedFilesNFolders.files.length===o.length||r?e.choosedFilesNFolders={...e.choosedFilesNFolders,files:[...e.choosedFilesNFolders.files,s]}:e.choosedFilesNFolders={...e.choosedFilesNFolders,files:o}},addChoosedFolders(e,t){const s=t.folder,r=t.isRightClick,o=e.choosedFilesNFolders.folders.filter((e=>e!==s));e.choosedFilesNFolders.folders.length===o.length||r?e.choosedFilesNFolders={...e.choosedFilesNFolders,folders:[...e.choosedFilesNFolders.folders,s]}:e.choosedFilesNFolders={...e.choosedFilesNFolders,folders:o}},clearChoosedFilesNFolder(e){e.choosedFilesNFolders={files:[],folders:[]}}},actions:{async getFiles({state:e,commit:t},s=null){t("setLoading",{loading:!0});const r=await c.getFiles(s);"success"===r.message&&(t("setFiles",r.payload.data.files),t("setFolders",r.payload.data.folders)),t("setLoading",{loading:!1})},async createFolder({state:e,commit:t},s=""){const r=e.path[e.path.length-1]?._id,o=await c.createFolder(r,s);"success"===o.message&&t("addFolder",o.payload.data)},async delete({state:e,commit:t,dispatch:s}){await c.deleteFolder(e.choosedFilesNFolders.folders),await c.deleteFiles(e.choosedFilesNFolders.files);await s("getFiles",e.path[e.path.length-1]?._id)},async uploadFiles({state:e,commit:t},s){const r=s.folderId?s.folderId:e.path[e.path.length-1]?._id,o=await c.uploadFiles(s.files,r);"success"!==o.message||s.folderId||t("addFiles",o.payload.data)},async downloadFilesNFolders({state:e}){const t=await c.download(e.choosedFilesNFolders);"error"===t.message&&alert("Что-то пошло не так!")}},namespaced:!0},p=(0,a.y$)({modules:{auth:u,files:h}});var f=p,m=s(641),g=s(33);const v=e=>((0,m.Qi)("data-v-ff597ebe"),e=e(),(0,m.jt)(),e),w={class:"login"},F={class:"login__container"},_=v((()=>(0,m.Lk)("div",{class:"login__header"}," Авторизация ",-1))),y={class:"login__btns"};function k(e,t,s,o,a,i){const n=(0,m.g2)("custom-input"),l=(0,m.g2)("custom-button"),d=(0,m.g2)("router-link");return(0,m.uX)(),(0,m.CE)("div",w,[(0,m.Lk)("div",F,[_,(0,m.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)((()=>{}),["prevent"])),class:"login__form"},[(0,m.bF)(n,{class:"login__input",label:"Введите имя",modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),error:a.v$.username.$error,errors:a.v$.username.$errors[0]?.$message},null,8,["modelValue","error","errors"]),(0,m.bF)(n,{class:"login__input",type:"password",label:"Введите пароль",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),error:a.v$.password.$error,errors:a.v$.password.$errors[0]?.$message},null,8,["modelValue","error","errors"]),(0,m.Lk)("div",y,[(0,m.bF)(l,{class:"login__btn",onClick:i.fetchLogin,disabled:a.sending},{default:(0,m.k6)((()=>[(0,m.eW)("Отправить")])),_:1},8,["onClick","disabled"]),(0,m.bF)(d,{class:(0,g.C4)({login__register_disabled:a.sending}),to:"/register"},{default:(0,m.k6)((()=>[(0,m.eW)("Создать")])),_:1},8,["class"])])],32)])])}var C=s(9639),b=s(3855);const L={class:"button"};function $(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("div",L,[(0,m.Lk)("button",{class:(0,g.C4)(["button__item",{button__item_disabled:s.disabled}])},[(0,m.RG)(e.$slots,"default",{},void 0,!0)],2)])}var x={name:"custom-button",props:{disabled:{default:!1,type:Boolean}}},E=s(6262);const P=(0,E.A)(x,[["render",$],["__scopeId","data-v-c61ce20e"]]);var N=P,A={components:{CustomButton:N},data(){return{v$:(0,C.Ay)(),username:"",password:"",sending:!1}},validations(){return{username:{required:b._$.withMessage("Необходимое поле",b.mw),minLength:b._$.withMessage("Имя слишком короткое",(0,b.Bp)(3)),maxLength:b._$.withMessage("Имя слишком длинное",(0,b.Ru)(30))},password:{required:b._$.withMessage("Необходимое поле",b.mw),minLength:b._$.withMessage("Пароль слишком короткий",(0,b.Bp)(3))}}},methods:{...(0,a.i0)({login:"auth/login"}),async fetchLogin(){if(this.sending)return;if(this.v$.$validate(),this.v$.$error)return;const e={username:this.username,password:this.password};this.sending=!0;const t=await this.login(e);this.sending=!1,"success"===t.message?this.$router.push("/"):alert("Что-то пошло не так!")}}};const M=(0,E.A)(A,[["render",k],["__scopeId","data-v-ff597ebe"]]);var X=M;const V=e=>((0,m.Qi)("data-v-06980938"),e=e(),(0,m.jt)(),e),I={class:"register"},H={class:"register__container"},S=V((()=>(0,m.Lk)("div",{class:"register__header"}," Регистрация ",-1))),B={class:"register__btns"};function D(e,t,s,o,a,i){const n=(0,m.g2)("custom-input"),l=(0,m.g2)("custom-button"),d=(0,m.g2)("router-link");return(0,m.uX)(),(0,m.CE)("div",I,[(0,m.Lk)("div",H,[S,(0,m.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)((()=>{}),["prevent"])),class:"register__form"},[(0,m.bF)(n,{class:"register__input",label:"Введите имя",modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),error:a.v$.username.$error,errors:a.v$.username.$errors[0]?.$message},null,8,["modelValue","error","errors"]),(0,m.bF)(n,{class:"register__input",type:"password",label:"Введите пароль",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),error:a.v$.password.$error,errors:a.v$.password.$errors[0]?.$message},null,8,["modelValue","error","errors"]),(0,m.bF)(n,{class:"register__input",type:"password",label:"Повторите пароль",modelValue:a.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>a.confirmPassword=e),error:a.v$.confirmPassword.$error,errors:a.v$.confirmPassword.$errors[0]?.$message},null,8,["modelValue","error","errors"]),(0,m.Lk)("div",B,[(0,m.bF)(l,{class:"register__btn",onClick:i.fetchRegister,disabled:a.sending},{default:(0,m.k6)((()=>[(0,m.eW)("Отправить")])),_:1},8,["onClick","disabled"]),(0,m.bF)(d,{class:(0,g.C4)({register__login_disabled:a.sending}),to:"/login"},{default:(0,m.k6)((()=>[(0,m.eW)("Войти")])),_:1},8,["class"])])],32)])])}var T={data(){return{v$:(0,C.Ay)(),username:"",password:"",confirmPassword:"",sending:!1}},validations(){return{username:{required:b._$.withMessage("Необходимое поле",b.mw),minLength:b._$.withMessage("Имя слишком короткое",(0,b.Bp)(3)),maxLength:b._$.withMessage("Имя слишком длинное",(0,b.Ru)(30))},password:{required:b._$.withMessage("Необходимое поле",b.mw),minLength:b._$.withMessage("Пароль слишком короткий",(0,b.Bp)(3))},confirmPassword:{sameAs:b._$.withMessage("Пароли должны совпадать",(0,b.f4)(this.password))}}},methods:{...(0,a.i0)({register:"auth/register"}),async fetchRegister(){if(this.sending)return;if(this.v$.$validate(),this.v$.$error)return;const e={username:this.username,password:this.password,confirmPassword:this.confirmPassword};this.sending=!0;const t=await this.register(e);this.sending=!1,"success"===t.message?this.$router.push("/login"):alert("Что-то пошло не так!")}}};const j=(0,E.A)(T,[["render",D],["__scopeId","data-v-06980938"]]);var O=j;const R={class:"main"},z={class:"main__path"},U={key:0,class:"loader"},W={key:1};function q(e,t,s,o,a,i){const n=(0,m.g2)("Loader"),l=(0,m.g2)("folder"),d=(0,m.g2)("file"),c=(0,m.g2)("custom-menu"),u=(0,m.g2)("header-layout");return(0,m.uX)(),(0,m.Wv)(u,null,{default:(0,m.k6)((()=>[(0,m.Lk)("div",R,[(0,m.Lk)("div",z,[(0,m.Lk)("span",{onClick:t[0]||(t[0]=(...e)=>i.clickBack&&i.clickBack(...e))},"Назад"),(0,m.eW)(" "+(0,g.v_)(e.getPath),1)]),(0,m.Lk)("div",{class:"main__container",onContextmenu:t[2]||(t[2]=(0,r.D$)(((...e)=>i.openmenu&&i.openmenu(...e)),["prevent"])),onDragenter:t[3]||(t[3]=(0,r.D$)((()=>{}),["prevent"])),onDragover:t[4]||(t[4]=(0,r.D$)((()=>{}),["prevent"])),onDrop:t[5]||(t[5]=(...e)=>i.onDragDrop&&i.onDragDrop(...e))},[e.loading?((0,m.uX)(),(0,m.CE)("div",U,[(0,m.bF)(n)])):i.isEmpty&&!a.isCreatingFolder?((0,m.uX)(),(0,m.CE)("div",W," Перетащите сюда файлы ")):((0,m.uX)(),(0,m.CE)("div",{key:2,class:"main__items",onClick:t[1]||(t[1]=(...e)=>i.clickedItem&&i.clickedItem(...e))},[((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.folders,(e=>((0,m.uX)(),(0,m.Wv)(l,{key:e._id,folder:e},null,8,["folder"])))),128)),((0,m.uX)(!0),(0,m.CE)(m.FK,null,(0,m.pI)(e.files,(e=>((0,m.uX)(),(0,m.Wv)(d,{key:e._id,file:e},null,8,["file"])))),128)),a.isCreatingFolder?((0,m.uX)(),(0,m.Wv)(l,{key:0,isCreating:a.isCreatingFolder,onCreate:i.createFolderByEmit},null,8,["isCreating","onCreate"])):(0,m.Q3)("",!0)]))],32)]),(0,m.bF)(c,{type:a.type,isShow:a.isShowMenu,mousePosition:a.cursorPosition,onCreateFolder:t[6]||(t[6]=e=>this.isCreatingFolder=!0),onDelete:i.clearClick},null,8,["type","isShow","mousePosition","onDelete"])])),_:1})}const Q=e=>((0,m.Qi)("data-v-f1007fd8"),e=e(),(0,m.jt)(),e),K={class:"app"},Y={class:"app__container"},G={class:"header"},Z=Q((()=>(0,m.Lk)("div",null,null,-1))),J={class:"header__card card"},ee={class:"card__name"},te={class:"app__body"};function se(e,t,s,r,o,a){const i=(0,m.g2)("icon-exit");return(0,m.uX)(),(0,m.CE)("div",K,[(0,m.Lk)("div",Y,[(0,m.Lk)("header",G,[Z,(0,m.Lk)("div",J,[(0,m.Lk)("span",ee,(0,g.v_)(e.user?.username),1),(0,m.bF)(i,{class:"icon__exit",onClick:a.fetchLogout},null,8,["onClick"])])]),(0,m.Lk)("div",te,[(0,m.RG)(e.$slots,"default",{},void 0,!0)])])])}const re={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512.005 512.005"},oe=(0,m.Lk)("g",null,[(0,m.Lk)("path",{d:"M192,256.003c0-35.285,28.715-64,64-64h85.333V21.336c0-11.776-9.536-21.333-21.333-21.333H21.333\r\n                C9.536,0.003,0,9.56,0,21.336v469.333c0,11.776,9.536,21.333,21.333,21.333H320c11.797,0,21.333-9.557,21.333-21.333V341.336\r\n                v-21.333H256C220.715,320.003,192,291.288,192,256.003z"}),(0,m.Lk)("path",{d:"M507.201,269.48c0.065-0.079,0.119-0.164,0.182-0.244c0.366-0.462,0.721-0.933,1.048-1.425\r\n                c0.154-0.23,0.284-0.47,0.428-0.705c0.216-0.353,0.437-0.703,0.632-1.069c0.161-0.3,0.296-0.61,0.441-0.916\r\n                c0.15-0.317,0.309-0.629,0.444-0.954c0.145-0.35,0.263-0.707,0.388-1.062c0.104-0.295,0.219-0.585,0.31-0.886\r\n                c0.127-0.418,0.224-0.841,0.325-1.264c0.059-0.248,0.131-0.491,0.182-0.742c0.117-0.581,0.199-1.166,0.267-1.753\r\n                c0.012-0.101,0.033-0.199,0.043-0.301c0.145-1.434,0.145-2.88,0-4.314c-0.01-0.102-0.032-0.2-0.043-0.301\r\n                c-0.068-0.587-0.151-1.172-0.267-1.753c-0.05-0.251-0.122-0.494-0.182-0.742c-0.101-0.423-0.198-0.847-0.325-1.264\r\n                c-0.091-0.301-0.206-0.591-0.31-0.886c-0.126-0.355-0.243-0.713-0.388-1.062c-0.135-0.325-0.293-0.637-0.444-0.954\r\n                c-0.145-0.306-0.28-0.615-0.441-0.916c-0.196-0.366-0.416-0.716-0.632-1.069c-0.144-0.235-0.274-0.475-0.428-0.705\r\n                c-0.327-0.492-0.682-0.963-1.048-1.425c-0.063-0.08-0.117-0.164-0.182-0.244c-0.48-0.589-0.991-1.151-1.531-1.685l-85.254-85.254\r\n                c-8.341-8.341-21.824-8.341-30.165,0c-8.341,8.341-8.341,21.824,0,30.165l48.917,48.917H256\r\n                c-11.797,0-21.333,9.557-21.333,21.333c0,11.776,9.536,21.333,21.333,21.333h183.168l-48.917,48.917\r\n                c-8.341,8.341-8.341,21.824,0,30.165c4.16,4.16,9.621,6.251,15.083,6.251c5.461,0,10.923-2.091,15.083-6.251l85.254-85.254\r\n                C506.209,270.631,506.72,270.069,507.201,269.48z"})],-1),ae=[oe];function ie(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("svg",re,ae)}var ne={};const le=(0,E.A)(ne,[["render",ie]]);var de=le,ce={components:{IconExit:de},methods:{...(0,a.i0)({logout:"auth/logout"}),async fetchLogout(){await this.logout(),this.$router.push("/login")}},computed:{...(0,a.aH)({isAuth:e=>e.auth.isAuth,user:e=>e.auth.user})}};const ue=(0,E.A)(ce,[["render",se],["__scopeId","data-v-f1007fd8"]]);var he=ue;const pe=["src"];function fe(e,t,s,r,o,a){const i=(0,m.g2)("icon-txt");return(0,m.uX)(),(0,m.CE)("div",{class:(0,g.C4)(["file",[s.file?._id,-1!==e.choosedFiles.indexOf(s.file?._id)?"file_active":""]])},[-1!==s.file.mimetype.search("image")?((0,m.uX)(),(0,m.CE)("img",{key:0,alt:"image",src:a.imageSrc,class:"image"},null,8,pe)):((0,m.uX)(),(0,m.Wv)(i,{key:1,class:"icon icon__txt"})),(0,m.Lk)("span",null,(0,g.v_)(s.file.filename.length>50?`${s.file.filename.slice(0,50)}...`:s.file.filename),1)],2)}const me={version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 58 58",style:{"enable-background":"new 0 0 58 58"},"xml:space":"preserve"},ge=(0,m.Lk)("path",{style:{fill:"#EFCE4A"},d:"M46.324,52.5H1.565c-1.03,0-1.779-0.978-1.51-1.973l10.166-27.871\r\n\t    c0.184-0.682,0.803-1.156,1.51-1.156H56.49c1.03,0,1.51,0.984,1.51,1.973L47.834,51.344C47.65,52.026,47.031,52.5,46.324,52.5z"},null,-1),ve=(0,m.Lk)("g",null,[(0,m.Lk)("path",{style:{fill:"#EBBA16"},d:"M50.268,12.5H25l-5-7H1.732C0.776,5.5,0,6.275,0,7.232V49.96c0.069,0.002,0.138,0.006,0.205,0.01\r\n            l10.015-27.314c0.184-0.683,0.803-1.156,1.51-1.156H52v-7.268C52,13.275,51.224,12.5,50.268,12.5z"})],-1),we=[ge,ve];function Fe(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("svg",me,we)}var _e={};const ye=(0,E.A)(_e,[["render",Fe]]);var ke=ye;const Ce={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 309.267 309.267"},be=(0,m.Lk)("g",null,[(0,m.Lk)("path",{style:{fill:"#E4E7E7"},d:"M38.658,0h164.23l87.049,86.711v203.227c0,10.679-8.659,19.329-19.329,19.329H38.658\r\n                c-10.67,0-19.329-8.65-19.329-19.329V19.329C19.329,8.65,27.989,0,38.658,0z"}),(0,m.Lk)("path",{style:{fill:"#C2C5C7"},d:"M289.658,86.981h-67.372c-10.67,0-19.329-8.659-19.329-19.329V0.193L289.658,86.981z"}),(0,m.Lk)("path",{style:{fill:"#CCD0D2"},d:"M57.988,125.64v19.329H251.28V125.64H57.988z M57.988,183.637H251.28v-19.329H57.988V183.637z\r\n                M57.988,222.286H251.28v-19.329H57.988V222.286z M57.988,260.944H251.28v-19.32H57.988V260.944z M164.298,86.981H57.988v19.329\r\n                h106.311L164.298,86.981L164.298,86.981z M164.298,48.323H57.988v19.329h106.311L164.298,48.323L164.298,48.323z"})],-1),Le=[be];function $e(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("svg",Ce,Le)}var xe={};const Ee=(0,E.A)(xe,[["render",$e]]);var Pe=Ee,Ne={components:{IconFolder:ke,IconTxt:Pe},props:{file:Object},methods:{...(0,a.i0)({getFiles:"getFiles"})},computed:{...(0,a.aH)({choosedFiles:e=>e.files.choosedFilesNFolders.files}),imageSrc:function(){return`${n.apiUrl}/${this.file.uploadname}`}}};const Ae=(0,E.A)(Ne,[["render",fe],["__scopeId","data-v-91fe04c6"]]);var Me=Ae;const Xe={key:0};function Ve(e,t,s,o,a,i){const n=(0,m.g2)("icon-folder"),l=(0,m.gN)("focus");return(0,m.uX)(),(0,m.CE)("div",{class:(0,g.C4)(["folder",[s.folder?._id,-1!==e.choosedFolders.indexOf(s.folder?._id)?"folder_active":""]]),onClick:t[3]||(t[3]=(...e)=>i.clickedFolder&&i.clickedFolder(...e))},[(0,m.bF)(n,{class:"icon icon__folder"}),s.isCreating?(0,m.bo)(((0,m.uX)(),(0,m.CE)("input",{key:1,class:"folder__input","onUpdate:modelValue":t[0]||(t[0]=e=>a.input=e),onKeyup:t[1]||(t[1]=(0,r.jR)((e=>e.target.blur()),["enter"])),onBlur:t[2]||(t[2]=(...e)=>i.createFolder&&i.createFolder(...e))},null,544)),[[r.Jo,a.input],[l]]):((0,m.uX)(),(0,m.CE)("span",Xe,(0,g.v_)(s.folder.foldername.length>50?`${s.folder.foldername.slice(0,50)}...`:s.folder.foldername),1))],2)}var Ie={components:{IconFolder:ke},props:{folder:Object,isCreating:Boolean},data(){return{input:""}},methods:{...(0,a.PY)({addPath:"files/addPath"}),createFolder(){this.$emit("create",this.input)},clickedFolder(e){const t=e.ctrlKey;t||this.addPath(this.folder)}},computed:{...(0,a.aH)({choosedFolders:e=>e.files.choosedFilesNFolders.folders})}};const He=(0,E.A)(Ie,[["render",Ve],["__scopeId","data-v-e78245a8"]]);var Se=He;const Be={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",width:"200",height:"200",style:{"shape-rendering":"auto",display:"block",background:"rgb(255, 255, 255)"},"xmlns:xlink":"http://www.w3.org/1999/xlink"},De=(0,m.Fv)('<g><g><circle fill="#e15b64" r="4" cy="50" cx="60"><animate begin="-0.67s" keyTimes="0;1" values="95;35" dur="1s" repeatCount="indefinite" attributeName="cx"></animate><animate begin="-0.67s" keyTimes="0;0.2;1" values="0;1;1" dur="1s" repeatCount="indefinite" attributeName="fill-opacity"></animate></circle><circle fill="#e15b64" r="4" cy="50" cx="60"><animate begin="-0.33s" keyTimes="0;1" values="95;35" dur="1s" repeatCount="indefinite" attributeName="cx"></animate><animate begin="-0.33s" keyTimes="0;0.2;1" values="0;1;1" dur="1s" repeatCount="indefinite" attributeName="fill-opacity"></animate></circle><circle fill="#e15b64" r="4" cy="50" cx="60"><animate begin="0s" keyTimes="0;1" values="95;35" dur="1s" repeatCount="indefinite" attributeName="cx"></animate><animate begin="0s" keyTimes="0;0.2;1" values="0;1;1" dur="1s" repeatCount="indefinite" attributeName="fill-opacity"></animate></circle></g><g transform="translate(-15 0)"><path transform="rotate(90 50 50)" fill="#ff8b13" d="M50 50L20 50A30 30 0 0 0 80 50Z"></path><path fill="#ff8b13" d="M50 50L20 50A30 30 0 0 0 80 50Z"><animateTransform keyTimes="0;0.5;1" values="0 50 50;45 50 50;0 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform></path><path fill="#ff8b13" d="M50 50L20 50A30 30 0 0 1 80 50Z"><animateTransform keyTimes="0;0.5;1" values="0 50 50;-45 50 50;0 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform></path></g><g></g></g>',1),Te=[De];function je(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("svg",Be,Te)}var Oe={};const Re=(0,E.A)(Oe,[["render",je]]);var ze=Re,Ue={components:{HeaderLayout:he,File:Me,Folder:Se,Loader:ze},data(){return{isShowMenu:!1,cursorPosition:[],type:null,isCreatingFolder:!1}},methods:{...(0,a.i0)({getFiles:"files/getFiles",createFolder:"files/createFolder",uploadFiles:"files/uploadFiles"}),...(0,a.PY)({deletePath:"files/deletePath",addChoosedFiles:"files/addChoosedFiles",addChoosedFolders:"files/addChoosedFolders",clearChoosedFilesNFolder:"files/clearChoosedFilesNFolder"}),clickedItem(e){e.stopPropagation();const t=e.ctrlKey;t?e.target.closest(".folder")?this.addChoosedFolders({folder:e.target.closest(".folder")?.classList[1]}):e.target.closest(".file")&&this.addChoosedFiles({file:e.target.closest(".file")?.classList[1]}):this.clearClick()},openmenu(e){if(this.type=null,e.target.closest(".folder")){this.type="folder";const t=e.target.closest(".folder")?.classList[1];this.addChoosedFolders({folder:t,isRightClick:!0})}else if(e.target.closest(".file")){this.type="file";const t=e.target.closest(".file")?.classList[1];this.addChoosedFiles({file:t,isRightClick:!0})}this.isShowMenu?this.clearClick():(this.isShowMenu=!this.isShowMenu,this.cursorPosition=[e.pageX,e.pageY])},clearClick(e){this.isShowMenu=!1,this.clearChoosedFilesNFolder()},async createFolderByEmit(e){this.isCreatingFolder=!1,await this.createFolder(e)},onDragDrop(e){e.preventDefault();const t=10485760,s=e.dataTransfer.files,r=[...s].filter((e=>""!==e.type&&e.size<=t));if(e.target.closest(".folder")){const t=e.target.closest(".folder")?.classList[1];this.uploadFiles({files:r,folderId:t})}else this.uploadFiles({files:r})},clickBack(e){this.deletePath()}},computed:{...(0,a.aH)({files:e=>e.files.files,folders:e=>e.files.folders,path:e=>e.files.path,loading:e=>e.files.loading}),...(0,a.L8)({getPath:"files/getPath"}),isEmpty:function(){return!this.files[0]&&!this.folders[0]}},mounted(){this.getFiles(),document.addEventListener("click",this.clearClick),this.$store.watch((e=>e.files.path),((e,t)=>{this.getFiles(t[t.length-1]?._id)}),{deep:!0})},beforeUnmount(){document.removeEventListener("click",this.clearClick)}};const We=(0,E.A)(Ue,[["render",q],["__scopeId","data-v-116cbab8"]]);var qe=We;const Qe=[{path:"/login",component:X},{path:"/register",component:O},{path:"/",component:qe,meta:{auth:!0}},{path:"/:catchAll(.*)",redirect:"/"}],Ke=(0,o.aE)({routes:Qe,history:(0,o.Bt)("/front-cloud/")});Ke.beforeEach((async(e,t,s)=>{const r=await f.dispatch("auth/me"),o=e.matched.some((e=>e.meta.auth));"error"===r.message&&o?s("/login"):"success"!==r.message||"/login"!==e.path&&"/register"!==e.path?s():s("/")}));var Ye=Ke,Ge=s(953);const Ze={class:"wrapper"};var Je={__name:"App",setup(e){const t=(0,a.Pj)(),s=(0,m.EW)((()=>t.state.auth.loading));return(e,t)=>{const r=(0,m.g2)("router-view");return(0,m.uX)(),(0,m.CE)("div",Ze,[s.value?((0,m.uX)(),(0,m.Wv)((0,Ge.R1)(ze),{key:0})):((0,m.uX)(),(0,m.Wv)(r,{key:1}))])}}};const et=Je;var tt=et;const st=e=>((0,m.Qi)("data-v-b9c04072"),e=e(),(0,m.jt)(),e),rt={class:"input"},ot={class:"input__wrapped"},at=["value","type"],it=st((()=>(0,m.Lk)("div",{class:"input__line"},null,-1))),nt={key:0,class:"input__errorMessage"};function lt(e,t,s,r,o,a){return(0,m.uX)(),(0,m.CE)("div",rt,[(0,m.Lk)("div",ot,[(0,m.Lk)("input",{class:(0,g.C4)(["input__item",{input__item_hide:!o.reposPlaceholder}]),value:s.modelValue,onInput:t[0]||(t[0]=(...e)=>a.updateInput&&a.updateInput(...e)),type:s.type},null,42,at),(0,m.Lk)("span",{class:(0,g.C4)(["input__placeholder",{input__placeholder_error:s.error}])},(0,g.v_)(s.label),3)]),it,s.error?((0,m.uX)(),(0,m.CE)("span",nt,(0,g.v_)(s.errors),1)):(0,m.Q3)("",!0)])}var dt={name:"custom-input",props:{modelValue:[String,Number],label:{type:String,required:!0},type:{type:String,default:"text"},error:{type:Boolean,default:!1},errors:{type:String,default:""}},data(){return{reposPlaceholder:!0}},methods:{updateInput(e){""!==e.target.value?this.reposPlaceholder=!1:this.reposPlaceholder=!0,this.$emit("update:modelValue",e.target.value)}}};const ct=(0,E.A)(dt,[["render",lt],["__scopeId","data-v-b9c04072"]]);var ut=ct;const ht={ref:"menu",class:"menu"},pt={class:"menu__items"};function ft(e,t,s,o,a,i){return(0,m.bo)(((0,m.uX)(),(0,m.CE)("div",ht,[(0,m.Lk)("div",pt,[s.type?(0,m.Q3)("",!0):((0,m.uX)(),(0,m.CE)("span",{key:0,class:"menu__item",onClick:t[0]||(t[0]=(...e)=>i.create&&i.create(...e))}," Создать папку ")),(0,m.Lk)("span",{class:"menu__item",onClick:t[1]||(t[1]=(...e)=>i.download&&i.download(...e))}," Скачать "),(0,m.Lk)("span",{class:"menu__item",onClick:t[2]||(t[2]=(...e)=>i.deleteClick&&i.deleteClick(...e))}," Удалить ")])],512)),[[r.aG,s.isShow]])}var mt={name:"custom-menu",props:{isShow:Boolean,mousePosition:{type:Array,required:!0},type:{required:!0}},methods:{...(0,a.i0)({delete:"files/delete",downloadFilesNFolders:"files/downloadFilesNFolders"}),create(){this.$emit("create-folder")},async deleteClick(e){e.stopPropagation(),await this.delete(),this.$emit("delete")},download(e){this.downloadFilesNFolders()}},watch:{isShow:function(e){this.$refs.menu.style.left=this.mousePosition[0]+"px",this.$refs.menu.style.top=this.mousePosition[1]+"px"}}};const gt=(0,E.A)(mt,[["render",ft],["__scopeId","data-v-110f43c4"]]);var vt=gt,wt=[ut,N,vt],Ft={mounted:function(e){e.focus()}};const _t=(0,r.Ef)(tt);wt.forEach((e=>{_t.component(e.name,e)})),_t.directive("focus",Ft),_t.use(Ye).use(f).mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,a){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var n=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,a<i&&(i=a));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],n=r[1],l=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var c=l(s)}for(t&&t(r);d<i.length;d++)a=i[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(5233)}));r=s.O(r)})();
//# sourceMappingURL=app.9dfaf1e5.js.map